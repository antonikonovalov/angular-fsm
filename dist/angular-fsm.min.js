(function(){"use strict";var a,b,c,d=[].slice,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=angular.module("fsm.service",[]),a=function(){function a(a,b){this.initial=a,this.debug=null!=b?b:!1,this.current=this.initial}return a.prototype.states={},a.prototype.log=function(){var a;return a=1<=arguments.length?d.call(arguments,0):[],this.debug?console.debug.apply(console,["FSM: "].concat(d.call(a))):void 0},a.prototype.reset=function(){return this.current=this.initial},a.prototype.addState=function(a,b,c,d){return null==this.states[a]&&(this.states[a]={}),this.states[a][b]={next:c,action:d},this},a.prototype.removeState=function(a,b){return null!=b?delete this.states[a][b]:delete this.states[a],this},a.prototype.normalize=function(a){return{symbol:a}},a.prototype.process=function(a){var b,c;return b=this.states[this.current],a=this.normalize(a),null!=(null!=a?a.symbol:void 0)?(c=a.symbol,this.log("Current State ",this.current," got symbol ",c),null==(null!=b?b[c]:void 0)&&b["*"]&&(this.log("Unrecognized symbol ",c,", using *"),c="*"),null!=this[b[c].action]&&this[b[c].action](a),b[c].next?this.current=b[c].next:this.log("Don't know how to handle symbol ",a.symbol),this):void 0},a}(),c.factory("fsm.service.Base",[function(){return a}]),c.factory("fsm.service.Constructor",["fsm.service.Base",function(a){return{build:function(b){var c,d,e,g;c=function(a){function b(a,c,d){this.initial=a,this.states=c,this.debug=null!=d?d:!1,b.__super__.constructor.call(this,this.initial,this.debug)}return f(b,a),b}(a),g=b.actions;for(e in g)d=g[e],c.prototype[e]=d;return new c(b.initial,b.map,b.debug)}}}]),b=angular.module("fsm",["fsm.service"]),b.provider("Fsm",[function(){var a;return a={},this.config=function(b){return a=b},this.$get=["fsm.service.Constructor",function(b){return b.build(a)}],this}])}).call(this);
//# sourceMappingURL=angular-fsm.min.map