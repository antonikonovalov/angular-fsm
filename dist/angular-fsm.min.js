(function(){"use strict";var a,b,c,d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=angular.module("fsm.service",[]),a=function(){function a(a){this.initial=a,console.log("FSMBase constructor =>",this.initial),this.current=this.initial,console.log("FSMBase finish")}return a.prototype.states={},a.prototype.setInitialState=function(a){return this.initial=a,this},a.prototype.setCurrentState=function(a){return this.current=a,this},a.prototype.reset=function(){return this.current=this.initial},a.prototype.addState=function(a,b,c,d){return null==this.states[a]&&(this.states[a]={}),this.states[a][b]={next:c,action:d},this},a.prototype.removeState=function(a,b){return null!=b?delete this.states[a][b]:delete this.states[a],this},a.prototype.normalize=function(a){return{symbol:a}},a.prototype.process=function(a){var b,c;return b=this.states[this.current],a=this.normalize(a),c=a.symbol,console.log("Current State ",this.current," got symbol ",c),null==(null!=b?b[c]:void 0)&&b["*"]&&(console.log("Unrecognized symbol ",c,", using *"),c="*"),null!=this[b[c].action]&&this[b[c].action](a),b[c].next?this.current=b[c].next:console.log("Don't know how to handle symbol ",a.symbol),this},a}(),c.factory("FSMBase",[function(){return a}]),c.factory("ConstructorFSM",["FSMBase",function(a){return{build:function(b){var c,d,f,g;c=function(a){function b(a,c){this.initial=a,this.states=c,b.__super__.constructor.call(this,this.initial)}return e(b,a),b}(a),g=b.actions;for(f in g)d=g[f],c.prototype[f]=d;return new c(b.initial,b.map)}}}]),b=angular.module("fsm",["fsm.service"]),b.provider("Fsm",[function(){var a;return a={},this.config=function(b){return a=b},this.$get=["ConstructorFSM",function(b){return b.build(a)}],this}])}).call(this);
//# sourceMappingURL=angular-fsm.min.map